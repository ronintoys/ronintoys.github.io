<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ronin Toys - We Take Play Seriously</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Chelsea+Market&family=Montserrat+Alternates:wght@400;700&family=Epilogue:wght@400;500;700;900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        xintegrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link id="favicon" rel="icon" href="images/gwi_nobg.png">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'title': ['"Chelsea Market"', 'cursive'],
                        'subtitle': ['"Montserrat Alternates"', 'sans-serif'],
                        'body': ['"Epilogue"', 'sans-serif'],
                    },
                    colors: {
                        'emerald-700': '#047857',
                        'warm-ochre': '#CC8E35',
                        'electric-coral': '#FF6B6B',
                        'sage-green': '#87A96B',
                        'warm-cream': '#FFF8E7',
                        'soft-gray': '#6B7280',
                        'e-blue': '#4A9EFF',
                        'teal-feels': '#1fa0b6',
                        'purple': '#7850a9',
                        'bluey-blue': '#4A90E2',
                        'bluey-yellow': '#F4D03F',
                        'bluey-orange': '#FF8C42',
                        'bluey-green': '#7CB342',
                    },
                    screens: {
                        'desktop': '1080px',
                    },
                }
            }
        }
    </script>
    <style>
        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-family: 'Chelsea Market', cursive;
        }

        .subtitle,
        .font-subtitle {
            font-family: 'Montserrat Alternates', sans-serif;
        }

        body {
            font-family: 'Epilogue', sans-serif;
        }

        .float-dance {
            animation: float-dance 4s ease-in-out infinite;
        }

        @keyframes float-dance {

            0%,
            100% {
                transform: translateY(0px) rotateZ(0deg);
            }

            33% {
                transform: translateY(-15px) rotateZ(3deg);
            }

            66% {
                transform: translateY(10px) rotateZ(-2deg);
            }
        }

        .bounce-play {
            animation: bounce-play 2s ease-in-out infinite;
        }

        @keyframes bounce-play {

            0%,
            100% {
                transform: scale(1) rotate(0deg);
            }

            50% {
                transform: scale(1.05) rotate(180deg);
            }
        }

        .wiggle-wild {
            animation: wiggle-wild 1.5s ease-in-out infinite;
        }

        @keyframes wiggle-wild {

            0%,
            100% {
                transform: rotate(0deg);
            }

            25% {
                transform: rotate(3deg);
            }

            75% {
                transform: rotate(-3deg);
            }
        }

        .clickable:hover {
            cursor: grab;
        }

        .clickable:active {
            cursor: grabbing;
            transform: scale(0.95);
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        .latin-fade {
            transition: opacity 0.5s ease-in-out;
        }

        .latin-fade.fade-out {
            opacity: 0;
        }

        #scroll-nav button {
            transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
            opacity: 0.8;
        }

        #scroll-nav button:hover {
            opacity: 1;
        }

        #scroll-nav button.hidden {
            opacity: 0;
            pointer-events: none;
            transform: translateY(10px);
        }

        .boop-text {
            position: absolute;
            top: -20px;
            left: 50%;
            font-size: 2.5rem;
            font-weight: 900;
            color: #FF6B6B;
            -webkit-text-stroke: 2px #FFF8E7;
            text-shadow: 3px 3px 0 #2D5A5A;
            animation: boop-effect 1s ease-out forwards;
            pointer-events: none;
            z-index: 20;
            white-space: nowrap;
        }

        @keyframes boop-effect {
            0% {
                transform: translateX(-50%) translateY(10px) scale(0.5);
                opacity: 0;
            }

            30% {
                transform: translateX(-50%) translateY(-10px) scale(1.1);
                opacity: 1;
            }

            50% {
                transform: translateX(-50%) translateY(0) scale(1);
            }

            80% {
                transform: translateX(-50%) translateY(0) scale(1);
                opacity: 1;
            }

            100% {
                transform: translateX(-50%) translateY(-20px) scale(0.8);
                opacity: 0;
            }
        }

        .cat-flipper-container {
            position: relative;
            perspective: 1000px;
            cursor: pointer;
        }

        .cat-flipper {
            transition: transform 0.8s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            transform-style: preserve-3d;
        }

        .cat-flipper-container.is-flipped .cat-flipper {
            transform: rotateY(180deg);
        }

        .cat-face {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
        }

        .cat-back {
            transform: rotateY(180deg);
        }

        .cat-back img {
            border-radius: 50%;
            border: 8px solid #FFF8E7;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.25);
        }

        #cats .highlight-cat,
        #products .highlight-product {
            transition: box-shadow 0.5s ease-in-out, transform 0.3s ease-in-out;
            box-shadow: 0 0 0 8px #CC8E35;
            border-radius: 1.5rem;
            transform: scale(1.02);
        }

        /* --- Scientific Approach Styles --- */
        .connector-path {
            stroke-dasharray: 1000;
            stroke-dashoffset: 1000;
            animation: draw-line 1.2s ease-out forwards;
            animation-delay: 0.3s;
        }

        @keyframes draw-line {
            to {
                stroke-dashoffset: 0;
            }
        }

        /* --- Mobile / Tablet simple view styles --- */
        .step-simple-item {
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
            opacity: 0;
            transform: translateY(20px);
        }

        #scientific-approach-mobile-grid.is-visible .step-simple-item {
            opacity: 1;
            transform: translateY(0);
        }

        .step-simple-item:nth-child(1) {
            transition-delay: 0.1s;
        }

        .step-simple-item:nth-child(2) {
            transition-delay: 0.2s;
        }

        .step-simple-item:nth-child(3) {
            transition-delay: 0.3s;
        }

        .step-simple-item:nth-child(4) {
            transition-delay: 0.4s;
        }

        .step-simple-item:nth-child(5) {
            transition-delay: 0.5s;
        }

        .step-simple-item:nth-child(6) {
            transition-delay: 0.6s;
        }

        @media (min-width: 640px) {

            /* sm */
            #scientific-approach-mobile-grid {
                display: grid;
                grid-template-columns: repeat(2, 1fr);
                grid-template-rows: repeat(3, auto);
                gap: 1rem 2rem;
            }

            .step-simple-item[data-step="1"] {
                grid-area: 1 / 1 / 2 / 2;
            }

            .step-simple-item[data-step="2"] {
                grid-area: 1 / 2 / 2 / 3;
            }

            .step-simple-item[data-step="3"] {
                grid-area: 2 / 2 / 3 / 3;
            }

            .step-simple-item[data-step="4"] {
                grid-area: 2 / 1 / 3 / 2;
            }

            .step-simple-item[data-step="5"] {
                grid-area: 3 / 1 / 4 / 2;
            }

            .step-simple-item[data-step="6"] {
                grid-area: 3 / 2 / 4 / 3;
            }
        }

        @media (min-width: 768px) {

            /* md */
            #scientific-approach-mobile-grid {
                grid-template-columns: repeat(3, 1fr);
                grid-template-rows: repeat(2, auto);
                gap: 2rem 2rem;
            }

            .step-simple-item[data-step="1"] {
                grid-area: 1 / 1 / 2 / 2;
            }

            .step-simple-item[data-step="2"] {
                grid-area: 1 / 2 / 2 / 3;
            }

            .step-simple-item[data-step="3"] {
                grid-area: 1 / 3 / 2 / 4;
            }

            .step-simple-item[data-step="4"] {
                grid-area: 2 / 3 / 3 / 4;
            }

            .step-simple-item[data-step="5"] {
                grid-area: 2 / 2 / 3 / 3;
            }

            .step-simple-item[data-step="6"] {
                grid-area: 2 / 1 / 3 / 2;
            }
        }

        /* --- Desktop card view styles --- */
        #scientific-approach-desktop-grid.is-visible .step-card {
            opacity: 1;
            transform: translateY(0);
        }

        .step-card {
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
            opacity: 0;
            transform: translateY(20px);
            z-index: 10;
        }

        .step-card:nth-child(1) {
            transition-delay: 0.1s;
        }

        .step-card:nth-child(2) {
            transition-delay: 0.2s;
        }

        .step-card:nth-child(3) {
            transition-delay: 0.3s;
        }

        .step-card:nth-child(4) {
            transition-delay: 0.4s;
        }

        .step-card:nth-child(5) {
            transition-delay: 0.5s;
        }

        .step-card:nth-child(6) {
            transition-delay: 0.6s;
        }

        @media (min-width: 1024px) {

            /* lg */
            #scientific-approach-desktop-grid {
                display: grid;
                grid-template-columns: repeat(3, 1fr);
                grid-template-rows: repeat(2, auto);
                gap: 4rem 2rem;
            }

            .step-card[data-step="1"] {
                grid-area: 1 / 1 / 2 / 2;
            }

            .step-card[data-step="2"] {
                grid-area: 1 / 2 / 2 / 3;
            }

            .step-card[data-step="3"] {
                grid-area: 1 / 3 / 2 / 4;
            }

            .step-card[data-step="4"] {
                grid-area: 2 / 3 / 3 / 4;
            }

            .step-card[data-step="5"] {
                grid-area: 2 / 2 / 3 / 3;
            }

            .step-card[data-step="6"] {
                grid-area: 2 / 1 / 3 / 2;
            }
        }

        @media (min-width: 1080px) {

            /* desktop */
            #scientific-approach-desktop-grid {
                grid-template-columns: repeat(6, 1fr);
                grid-template-rows: 1fr;
                gap: 2rem 2rem;
            }

            .step-card[data-step] {
                grid-area: auto;
            }
        }

        #mobile-menu.is-open {
            transform: scaleY(1);
        }
        
        .thumbnail-item {
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            cursor: pointer;
        }

        .thumbnail-item.active {
            transform: scale(1.1);
            box-shadow: 0 0 0 3px #CC8E35;
        }
        .carousel-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: #D1D5DB; /* gray-300 */
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .carousel-dot.active {
            background-color: #7850a9; /* purple */
        }

        @media (min-width: 768px) {
             .carousel-dot {
                width: 12px;
                height: 12px;
             }
        }

        #product-carousel {
            touch-action: pan-y;
        }

        .product-details ul {
            list-style-type: disc;
            padding-left: 1.5rem;
            margin-top: 0.5rem;
            margin-bottom: 0.5rem;
        }
        .product-details ul li {
            margin-bottom: 0.25rem;
        }
    </style>
</head>

<body class="bg-warm-cream text-gray-800 pt-16">
    <nav class="bg-purple fixed top-0 left-0 right-0 z-50 shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6">
            <div class="flex justify-between items-center h-16">
                <a href="#home" onclick="event.preventDefault(); router.goTo('home')" class="flex-shrink-0" aria-label="Ronin Toys Home">
                    <img class="h-16 w-auto" src="images/logo_dark_nobg.svg" alt="Ronin Toys Logo">
                </a>
                <div class="hidden md:flex space-x-6">
                    <a href="#home" onclick="router.goTo('home')"
                        class="text-white hover:text-warm-ochre font-medium">Home</a>
                    <a href="#products" onclick="router.goTo('products')"
                        class="text-white hover:text-warm-ochre font-medium">Products</a>
                    <a href="#about" onclick="router.goTo('about')"
                        class="text-white hover:text-warm-ochre font-medium">About Ruby</a>
                    <a href="#cats" onclick="router.goTo('cats')"
                        class="text-white hover:text-warm-ochre font-medium">The Research Team</a>
                    <a href="https://instagram.com/theronintoymaker" target="_blank"
                        class="text-white hover:text-warm-ochre font-medium underline inline-flex items-center gap-1"><i
                            class="fab fa-instagram"></i><span>Follow Us!</span></a>
                </div>
                <div class="md:hidden">
                    <button id="mobile-menu-btn" class="text-white hover:text-warm-ochre focus:outline-none"
                        onclick="toggleMobileMenu()">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                </div>
                <button
                    class="hidden md:block bg-emerald-700 text-white px-4 py-2 rounded-full font-bold hover:bg-emerald-600 transition-all transform hover:scale-110"
                    onclick="window.open('https://forms.gle/DYePzt4ycq6Tg4PW7', '_blank')">
                    Get Notified
                </button>
            </div>
        </div>
        <div id="mobile-menu"
            class="md:hidden bg-emerald-700 absolute top-full left-0 w-full transition-transform duration-300 ease-in-out transform scale-y-0 origin-top">
            <div class="px-4 sm:px-6 pt-2 pb-4 space-y-3">
                <a href="#home" onclick="router.goTo('home'); closeMobileMenu()"
                    class="block text-white hover:text-warm-ochre font-medium py-2">Home</a>
                <a href="#products" onclick="router.goTo('products'); closeMobileMenu()"
                    class="block text-white hover:text-warm-ochre font-medium py-2">Products</a>
                <a href="#about" onclick="router.goTo('about'); closeMobileMenu()"
                    class="block text-white hover:text-warm-ochre font-medium py-2">About Ruby</a>
                <a href="#cats" onclick="router.goTo('cats'); closeMobileMenu()"
                    class="block text-white hover:text-warm-ochre font-medium py-2">The Research Team</a>
                <a href="#" onclick="window.open('https://forms.gle/DYePzt4ycq6Tg4PW7', '_blank'); closeMobileMenu()"
                    class="block text-white hover:text-warm-ochre font-medium py-2">Get Notified</a>
                <a href="https://instagram.com/theronintoymaker" target="_blank"
                    class="block text-white hover:text-warm-ochre font-medium py-2 underline inline-flex items-center gap-1"><i
                        class="fab fa-instagram"></i><span>Follow Us!</span></a>
            </div>
        </div>
    </nav>

    <div id="home" class="page">
        <section class="min-h-screen bg-electric-coral flex items-center relative overflow-hidden">
            <div data-cat-target="zelda-section"
                class="cat-flipper-container absolute top-16 -left-12 sm:-left-8 md:top-1/4 md:left-20 w-56 h-56 md:w-72 md:h-72 float-dance">
                <div class="cat-flipper relative w-full h-full">
                    <div class="cat-face cat-front opacity-40 md:opacity-100">
                        <img src="images/zelda_nobg.png" alt="Zelda the cat character"
                            class="w-full h-full object-contain cursor-pointer">
                    </div>
                    <div class="cat-face cat-back opacity-40 md:opacity-100">
                        <img src="images/zelda.jpg" alt="The real Zelda, a majestic cat"
                            class="w-full h-full object-cover cursor-pointer">
                    </div>
                </div>
            </div>
            <div data-cat-target="cloud-section"
                class="cat-flipper-container absolute top-24 -right-12 sm:-right-8 md:top-1/3 md:right-32 w-48 h-48 md:w-64 md:h-64 float-dance"
                style="animation-delay: 1s;">
                <div class="cat-flipper relative w-full h-full">
                    <div class="cat-face cat-front opacity-40 md:opacity-100">
                        <img src="images/cloud_nobg.png" alt="Cloud the cat character"
                            class="w-full h-full object-contain cursor-pointer">
                    </div>
                    <div class="cat-face cat-back opacity-40 md:opacity-100">
                        <img src="images/cloud.jpg" alt="The real Cloud, a fluffy cat"
                            class="w-full h-full object-cover cursor-pointer">
                    </div>
                </div>
            </div>
            <div data-cat-target="gwilo-section"
                class="cat-flipper-container absolute bottom-8 -left-12 sm:left-10 w-48 h-48 md:w-64 md:h-64 float-dance"
                style="animation-delay: 2s;">
                <div class="cat-flipper relative w-full h-full">
                    <div class="cat-face cat-front opacity-40 md:opacity-100">
                        <img src="images/gwi_nobg.png" alt="Playful cat character Gwilo"
                            class="w-full h-full object-contain cursor-pointer">
                    </div>
                    <div class="cat-face cat-back opacity-40 md:opacity-100">
                        <img src="images/gwilo.jpg" alt="The real Gwilo, a handsome cat"
                            class="w-full h-full object-cover cursor-pointer">
                    </div>
                </div>
            </div>
            <div class="max-w-7xl mx-auto px-4 sm:px-6 py-16 sm:py-20 relative z-10">
                <div class="text-center space-y-8 sm:space-y-12">
                    <h2 class="text-5xl sm:text-6xl md:text-7xl lg:text-8xl text-gray-800 leading-none">
                        We take <br> <span class="text-bluey-yellow wiggle-wild inline-block">play</span> <br> seriously
                    </h2>
                    <div class="max-w-2xl mx-auto space-y-4 sm:space-y-6">
                        <p class="text-lg sm:text-xl md:text-2xl font-bold text-gray-800 font-subtitle">Because the
                            world's full enough of un-fun things.</p>
                        <p class="text-base sm:text-lg md:text-xl text-gray-700 font-medium">We make toys for cats,
                            humans, and anyone else who believes that they should be busy having fun.</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="bg-warm-cream py-16 sm:py-20">
            <div class="max-w-7xl mx-auto px-4 sm:px-6">
                <div class="text-center mb-12 sm:mb-16">
                    <h2 class="text-4xl sm:text-5xl md:text-6xl text-gray-800 mb-4 wiggle-wild">The Chaos Collection
                    </h2>
                    <p class="text-lg sm:text-xl text-gray-600 font-medium font-subtitle">Designed by cats, for cats
                        (and their humans)</p>
                </div>
                <div class="max-w-xs sm:max-w-sm md:max-w-2xl lg:max-w-4xl mx-auto relative overflow-hidden">
                    <div id="product-carousel" class="overflow-hidden">
                        <div id="carousel-track" class="flex transition-transform duration-500 ease-in-out">
                        </div>
                    </div>
                    <button id="prev-btn"
                        class="hidden md:block absolute top-1/2 -translate-y-1/2 left-0 -translate-x-8 md:-translate-x-12 bg-white/80 hover:bg-white text-purple rounded-full p-2 shadow-lg z-10 transition-all">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <button id="next-btn"
                        class="hidden md:block absolute top-1/2 -translate-y-1/2 right-0 translate-x-8 md:translate-x-12 bg-white/80 hover:bg-white text-purple rounded-full p-2 shadow-lg z-10 transition-all">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                        </svg>
                    </button>
                    <div id="carousel-dots" class="flex justify-center space-x-2 mt-4 md:mt-6">
                        <!-- Dots will be generated here -->
                    </div>
                </div>
            </div>
        </section>

        <section id="scientific-approach-section" class="bg-bluey-orange py-16 sm:py-20 overflow-hidden">
            <div class="max-w-7xl mx-auto px-4 sm:px-6">
                <div class="text-center mb-12 sm:mb-16">
                    <h2 class="text-4xl sm:text-5xl md:text-6xl text-white mb-6">Our Scientific Approach</h2>
                    <p class="text-lg sm:text-xl text-white font-medium font-subtitle">Rigorous methodology for maximum
                        chaos</p>
                </div>

                <div id="scientific-approach-mobile" class="lg:hidden relative">
                    <svg id="connector-svg-mobile" class="absolute top-0 left-0 w-full h-full hidden sm:block"
                        style="z-index: 0; pointer-events: none;"></svg>
                    <div id="scientific-approach-mobile-grid"
                        class="flex flex-col items-center max-w-sm mx-auto sm:max-w-none">
                        </div>
                </div>

                <div id="scientific-approach-desktop" class="hidden lg:block relative">
                    <svg id="connector-svg-desktop" class="absolute top-0 left-0 w-full h-full"
                        style="z-index: 0; pointer-events: none;"></svg>
                    <div id="scientific-approach-desktop-grid">
                        </div>
                </div>
            </div>
        </section>

        <section class="bg-bluey-blue py-16 sm:py-20">
            <div class="max-w-7xl mx-auto px-4 sm:px-6">
                <div class="hidden md:flex justify-between items-baseline mb-8">
                    <h2 class="text-4xl sm:text-5xl text-white text-center w-5/12">Catch us in the wild</h2>
                    <span class="text-white text-4xl font-title">Or</span>
                    <h2 class="text-4xl sm:text-5xl text-white text-center w-5/12">domesticated at home</h2>
                </div>
    
                <div>
                    <div class="md:hidden">
                        <h2 class="text-center text-4xl sm:text-5xl text-white mb-6">Catch us in the wild</h2>
                        <div class="bg-white rounded-3xl p-6 sm:p-8 shadow-lg text-left mb-8">
                            <div class="flex items-center space-x-3 mb-4">
                                <div class="w-4 h-4 bg-electric-coral rounded-full bounce-play"></div><span
                                    class="text-electric-coral font-black text-sm uppercase">Last Seen</span>
                            </div>
                            <h3 class="text-2xl sm:text-3xl text-gray-800 mb-2">India FOSS</h3>
                            <p class="text-sm sm:text-base text-gray-700 font-bold mb-2">September 20-21</p>
                            <p class="text-sm sm:text-base text-gray-600 mb-6">NIMHANS, Bengaluru</p>
                         <!--   <button
                                class="bg-sage-green text-white px-4 sm:px-6 py-2 sm:py-3 rounded-full font-bold text-sm sm:text-base hover:bg-green-600 transition-all transform hover:scale-105">Find
                                us there →</button> -->
                        </div>
    
                        <div class="flex justify-center items-center my-8">
                            <span class="text-white text-4xl font-title">Or</span>
                        </div>
    
                        <h2 class="text-center text-4xl sm:text-5xl text-white mb-6">domesticated at home</h2>
                        <div class="bg-white rounded-3xl p-6 sm:p-8 shadow-lg">
                            <h3 class="text-2xl sm:text-3xl text-gray-800 mb-6">Coming Soon</h3>
                            <div class="space-y-3 min-h-[105px]">
                                </div>
                            <button
                                class="bg-electric-coral text-white px-4 sm:px-6 py-2 sm:py-3 rounded-full font-bold text-sm sm:text-base hover:bg-red-600 transition-all transform hover:scale-105 mt-6"
                                onclick="window.open('https://forms.gle/DYePzt4ycq6Tg4PW7', '_blank')">
                                Contact The Toymaker
                            </button>
                        </div>
                    </div>
    
                    <div class="hidden md:grid grid-cols-2 gap-8 items-stretch">
                        <div class="bg-white rounded-3xl p-6 sm:p-8 shadow-lg text-left flex flex-col">
                            <div class="flex-grow">
                                 <div class="flex items-center space-x-3 mb-4">
                                    <div class="w-4 h-4 bg-electric-coral rounded-full bounce-play"></div><span
                                        class="text-electric-coral font-black text-sm uppercase">Last Seen</span>
                                </div>
                                <h3 class="text-2xl sm:text-3xl text-gray-800 mb-2">India FOSS</h3>
                                <p class="text-sm sm:text-base text-gray-700 font-bold mb-2">September 20-21</p>
                                <p class="text-sm sm:text-base text-gray-600 mb-6">NIMHANS, Bengaluru</p>
                            </div>
                           <!--   <button
                                class="bg-sage-green text-white px-4 sm:px-6 py-2 sm:py-3 rounded-full font-bold text-sm sm:text-base hover:bg-green-600 transition-all transform hover:scale-105 self-start">Find
                                us there →</button> -->
                        </div>
                        <div class="bg-white rounded-3xl p-6 sm:p-8 shadow-lg flex flex-col">
                            <div class="flex-grow">
                                <h3 class="text-2xl sm:text-3xl text-gray-800 mb-6">Coming Soon</h3>
                                </div>
                            <button
                                class="bg-electric-coral text-white px-4 sm:px-6 py-2 sm:py-3 rounded-full font-bold text-sm sm:text-base hover:bg-red-600 transition-all transform hover:scale-105 self-start"
                                onclick="window.open('https://forms.gle/DYePzt4ycq6Tg4PW7', '_blank')">
                                Contact The Toymaker
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </div>

    <div id="products" class="page">
        <section class="min-h-screen bg-warm-cream py-16 sm:py-20">
            <div class="max-w-5xl mx-auto px-4 sm:px-6">
                <div class="text-center mb-12 sm:mb-16">
                    <h1 class="text-4xl sm:text-5xl md:text-6xl text-gray-800 mb-8">The Chaos Collection</h1>
                    <p class="text-lg sm:text-xl md:text-2xl text-gray-600 font-medium font-subtitle">Toys for
                        discerning connoisseurs of chaos</p>
                </div>
                <div id="product-list" class="space-y-12"></div>
            </div>
        </section>
    </div>

    
    <div id="about" class="page">
        <section class="min-h-screen bg-sage-green py-16 sm:py-20">
            <div class="max-w-4xl mx-auto px-4 sm:px-6">
                <div class="text-center mb-12 sm:mb-16">
                    <h1 class="text-4xl sm:text-5xl md:text-6xl text-gray-800 mb-8">About Ruby</h1>
                    <p class="text-lg sm:text-xl md:text-2xl text-gray-600 font-medium font-subtitle">The human behind
                        the chaos</p>
                </div>
                <div class="grid grid-cols-1 items-center">
                    <div class="space-y-6 sm:space-y-8">
                        <div class="bg-white rounded-3xl p-6 sm:p-8 shadow-lg">
                            <h2 class="text-2xl sm:text-3xl text-gray-800 mb-6">The Story So Far</h2>
                            <div class="space-y-4 text-sm sm:text-base text-gray-600 font-medium leading-relaxed">
                                <p>It started with three cats who had very specific opinions about their entertainment.
                                </p>
                                <p><b>Gwilo</b> wanted something cooperative. Play that depended on his human staying engaged.</p>
                                <p><b>Zelda</b> demanded something that made her fully lean into the Hunter-Queen that
                                    she is.</p>
                                <p>And <b>Cloud</b>? He needed chaos. Randomness. Something that sparked curiosity every single time.</p>
                                <p>Play, I realized, is essential and effortless. Intelligent beings like cats don’t need instructions. They need toys that respond to their instincts, not override them. Traditional toys didn’t stand a chance: they either bored my research subjects/teamates instantly, or broke faster than my focus on a Friday evening conference call.</p>
                                <p>So I started making toys, because three very persuasive cats made it clear that their current
                                    entertainment options were inadequate.</p>
                                <p>That small act of feline appeasement has grown into Ronin Toys, where I design and manufacture toys that are durable, fun, and pawsitively chaotic.</p>
                                <p>Right now, our products are 3D-printed using PLA+ plastic, but that’s just the beginning. The next step is moving toward sustainable materials, starting with the <b>Reelin'</b>, which, I hope to manufacture out of sustainably sourced, artisan-worked wood that is properly finished, and built to last.</p>
                                <p> And for that, I need help with networks, funding, getting artisans on board... the works. After all, Ronin Toys is still self-funded and friend-powered in all things design, manufacturing, and marketing, and my goal is to ensure that at least 30% of Ronin Toys' profits go directly to the people who build these toys with their hands and experience.</p>
                                  <h2 class="text-2xl sm:text-3xl text-gray-800 mb-6">Want to help?</h2>
                                  <p>Well... If you have cats (or know people ruled by them), the toys are ready. Now that I've got the ball rolling (metaphorically), I guess I can accept orders from your overlords too. </p>
                                <p>And if you want to talk about ethical manufacturing, playful design, or sustainable craft, I’d love to hear from you at ruphilka@ronintoys.com. Clearly, I take play seriously.</p>
                            </div>
                        </div>
                        <div class="space-y-6">
                            <div class="bg-white rounded-3xl p-6 sm:p-8 shadow-lg text-center">
                                <div
                                    class="w-24 h-24 sm:w-32 sm:h-32 bg-warm-ochre rounded-full mx-auto mb-6 flex items-center justify-center overflow-hidden">
                                    <img src="images/ruby.jpg" alt="Ruby - Professional cat servant"
                                        class="w-full h-full object-cover"></div>
                                <h3 class="text-xl sm:text-2xl text-gray-800 mb-2">Ruby</h3>
                                <p class="text-sm sm:text-base text-gray-600 font-medium mb-4 font-subtitle">aka
                                    @ruphilka</p>
                                <p class="text-sm sm:text-base text-gray-600 font-medium">Professional cat servant,
                                    occasional human</p>
                            </div>
                            <div class="text-center">
                                <a href="https://instagram.com/theronintoymaker" target="_blank"
                                    class="bg-purple text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full font-bold text-base sm:text-lg hover:bg-purple-700 transition-all transform hover:scale-105 inline-block">Follow
                                    the Journey →</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <div id="cats" class="page">
        <section class="min-h-screen bg-warm-cream py-16 sm:py-20">
            <div class="max-w-7xl mx-auto px-4 sm:px-6">
                <div class="text-center mb-12 sm:mb-16">
                    <h1 class="text-4xl sm:text-5xl md:text-6xl text-gray-800 mb-8">Field Notes from R&D</h1>
                    <p id="latin-subtitle"
                        class="text-lg sm:text-xl md:text-2xl text-gray-600 font-medium latin-fade font-subtitle">
                        "Humani intelligentes sunt, sed assidua vigilantia indigent"</p>
                </div>
                <div id="gwilo-section" class="mb-12 sm:mb-16 lg:mb-20">
                    <div class="grid grid-cols-1 lg:grid-cols-1 justify-items-center gap-6 sm:gap-8 lg:gap-12 items-center">
                        <div
                            class="bg-white rounded-3xl p-4 sm:p-6 lg:p-8 shadow-lg border-l-4 sm:border-l-8 border-purple w-full max-w-3xl">
                            <div class="flex flex-col items-center mb-4 sm:mb-6 space-y-4">
                                <div class="cat-flipper-container w-32 h-32 sm:w-40 sm:h-40 lg:w-48 lg:h-48 relative">
                                    <div class="cat-flipper relative w-full h-full">
                                        <div class="cat-face cat-front">
                                            <img src="images/gwi_nobg.png" alt="Playful cat character Gwilo"
                                                class="w-full h-full object-contain">
                                        </div>
                                        <div class="cat-face cat-back">
                                            <img src="images/gwilo.jpg" alt="The real Gwilo, a handsome cat"
                                                class="w-full h-full object-cover">
                                        </div>
                                    </div>
                                </div>
                                <span
                                    class="bg-purple text-white px-2 py-1 sm:px-3 sm:py-1 lg:px-4 lg:py-2 rounded-full text-xs sm:text-sm font-black uppercase">Cooperative
                                    Hunter</span>
                            </div>
                            <div class="text-center lg:text-left">
                                <h2 class="text-xl sm:text-2xl lg:text-3xl text-gray-800 mb-2">Gwilo</h2>
                                <ul class="text-xs sm:text-sm lg:text-base text-gray-600 font-medium mb-4 sm:mb-6 list-none p-0 m-0 space-y-1">
                                    <li><strong>Age:</strong> ~8 Earth Years</li>
                                    <li><strong>Designation:</strong> Ninja/ Chaos Conspirator/ Senior Research Fellow in Applied Mischief</li>
                                </ul>
                                <div
                                    class="space-y-3 sm:space-y-4 text-xs sm:text-sm lg:text-base text-gray-600 font-medium">
                                    <p><strong>Primary Research Focus:</strong> Gwilo operates on the revolutionary
                                        principle that cooperation between species is not only possible but essential
                                        for maximum chaos achievement. Currently investigating the correlation between
                                        teamwork and fun.</p>
                                    <p><strong>Research Philosophy:</strong> "If it doesn't invite participation, what's
                                        the point?"</p>
                                    <!-- <p><strong>Current Project:</strong> <a href="#products" onclick="event.preventDefault(); router.goTo('products', {scrollTo: 'reelin'})" class="text-purple font-bold underline hover:text-emerald-700">Reelin'</a></p> -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="zelda-section" class="mb-12 sm:mb-16 lg:mb-20">
                    <div class="grid grid-cols-1 lg:grid-cols-1 justify-items-center gap-6 sm:gap-8 lg:gap-12 items-center">
                        <div
                            class="bg-white rounded-3xl p-4 sm:p-6 lg:p-8 shadow-lg border-l-4 sm:border-l-8 border-emerald-700 w-full max-w-3xl">
                            <div class="flex flex-col items-center mb-4 sm:mb-6 space-y-4">
                                <div class="cat-flipper-container w-32 h-32 sm:w-40 sm:h-40 lg:w-48 lg:h-48 relative">
                                    <div class="cat-flipper relative w-full h-full">
                                        <div class="cat-face cat-front">
                                            <img src="images/zelda_nobg.png" alt="Zelda the cat character"
                                                class="w-full h-full object-contain">
                                        </div>
                                        <div class="cat-face cat-back">
                                            <img src="images/zelda.jpg" alt="The real Zelda, a majestic cat"
                                                class="w-full h-full object-cover">
                                        </div>
                                    </div>
                                </div>
                                <span
                                    class="bg-emerald-700 text-white px-2 py-1 sm:px-3 sm:py-1 lg:px-4 lg:py-2 rounded-full text-xs sm:text-sm font-black uppercase">Chief
                                    Perfectionist</span>
                            </div>
                            <div class="text-center lg:text-left">
                                <h2 class="text-xl sm:text-2xl lg:text-3xl text-gray-800 mb-2">Zelda</h2>
                                <ul class="text-xs sm:text-sm lg:text-base text-gray-600 font-medium mb-4 sm:mb-6 list-none p-0 m-0 space-y-1">
                                    <li><strong>Age:</strong> 7.5 Earth Years</li>
                                    <li><strong>Designation:</strong> Samurai/ Chaos Overseer/ Senior Research Fellow in Applied Precision</li>
                                </ul>
                                <div
                                    class="space-y-3 sm:space-y-4 text-xs sm:text-sm lg:text-base text-gray-600 font-medium">
                                    <p><strong>Primary Research Focus:</strong> Zelda's optimal hunting sequence studies
                                        focus on the precise mathematics of pursuit—the exact angle of approach, the
                                        optimal unpredictability ratio for safe scoping, and the timing for a perfect
                                        strike.</p>
                                    <p><strong>Research Philosophy:</strong> "If it doesn't please me, it has no
                                        business existing in my vicinity."</p>
                                   <!--  <p><strong>Current Project:</strong> <a href="#products" onclick="event.preventDefault(); router.goTo('products', {scrollTo: 'rover'})" class="text-emerald-700 font-bold underline hover:text-purple">Rover</a></p> -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="cloud-section" class="mb-12 sm:mb-16 lg:mb-20">
                    <div class="grid grid-cols-1 lg:grid-cols-1 justify-items-center gap-6 sm:gap-8 lg:gap-12 items-center">
                        <div
                            class="bg-white rounded-3xl p-4 sm:p-6 lg:p-8 shadow-lg border-l-4 sm:border-l-8 border-electric-coral w-full max-w-3xl">
                            <div class="flex flex-col items-center mb-4 sm:mb-6 space-y-4">
                                <div class="cat-flipper-container w-32 h-32 sm:w-40 sm:h-40 lg:w-48 lg:h-48 relative">
                                    <div class="cat-flipper relative w-full h-full">
                                        <div class="cat-face cat-front">
                                            <img src="images/cloud_nobg.png" alt="Cloud the cat character"
                                                class="w-full h-full object-contain">
                                        </div>
                                        <div class="cat-face cat-back">
                                            <img src="images/cloud.jpg" alt="The real Cloud, a fluffy cat"
                                                class="w-full h-full object-cover">
                                        </div>
                                    </div>
                                DE</div>
                                <span
                                    class="bg-electric-coral text-white px-2 py-1 sm:px-3 sm:py-1 lg:px-4 lg:py-2 rounded-full text-xs sm:text-sm font-black uppercase">Chaos
                                    Specialist</span>
                            </div>
                            <div class="text-center lg:text-left">
                                <h2 class="text-xl sm:text-2xl lg:text-3xl text-gray-800 mb-2">Alejandro Jojo McCloud
                                    (aka Cloud)</h2>
                                <ul class="text-xs sm:text-sm lg:text-base text-gray-600 font-medium mb-4 sm:mb-6 list-none p-0 m-0 space-y-1">
                                   <li><strong>Age:</strong> 1.9 Earth Years</li>
                                   <li><strong>Designation:</strong> Part-time Ronin/ Chaos Instigator/ Junior Research Fellow in Chaos Theory</li>
                                </ul>
                                <div
                                    class="space-y-3 sm:space-y-4 text-xs sm:text-sm lg:text-base text-gray-600 font-medium">
                                    <p><strong>Primary Research Focus:</strong> Is primarily studying the conditions
                                        under which 'The Zoomies' occur. One of Cloud's theories is about the fumes
                                        emitted during bowel evacuation, and the speed of participants when entering
                                        'The Zoom State'. He hopes to find out how to capitalize on the energy contained
                                        within this state.</p>
                                    <p><strong>Research Philosophy:</strong> "Huh? Wait where was I going? OH MY GOD DID
                                        YOU SEE THAT THING JUST MOVE? I'm going to follow it."</p>
                                   <!--  <p><strong>Current Project:</strong> <a href="#products" onclick="event.preventDefault(); router.goTo('products', {scrollTo: 'rollin'})" class="text-electric-coral font-bold underline hover:text-purple">He Forgot</a></p> -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="text-center bg-white rounded-3xl p-8 sm:p-12 shadow-lg">
                    <h2 class="text-3xl sm:text-4xl text-gray-800 mb-6">Follow the Research</h2>
                    <p class="text-lg sm:text-xl text-gray-600 font-medium mb-8 font-subtitle">Watch our design
                        consultants and their ongoing quality control work</p>
                    <a href="https://instagram.com/theronintoymaker" target="_blank"
                        class="bg-purple text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full font-bold text-base sm:text-lg hover:bg-purple-700 transition-all transform hover:scale-105 inline-block">@theronintoymaker
                        →</a>
                </div>
            </div>
        </section>
    </div>

    <div id="terms" class="page">
        <section class="min-h-screen bg-sage-green py-16 sm:py-20">
            <div class="max-w-4xl mx-auto px-4 sm:px-6">
                <div class="text-center mb-12 sm:mb-16">
                    <h1 class="text-4xl sm:text-5xl md:text-6xl text-gray-800 mb-8">Terms & Conditions</h1>
                    <p class="text-lg sm:text-xl md:text-2xl text-gray-600 font-medium font-subtitle">Booking, Buying, Delivery and Refunds</p>
                </div>
                <div class="bg-white rounded-3xl p-6 sm:p-8 shadow-lg">
                    <div class="space-y-6 text-sm sm:text-base text-gray-600 font-medium leading-relaxed">
                        <p class="font-bold">Thanks for being an early adventurer with Ronin Toys!</p>
                        <p>To make sure your spot is reserved, here's how our pre-order system works:</p>

                        <ol class="list-decimal space-y-4 pl-6">
                            <li>
                                <p class="font-bold">Figure out which toy you'd like to buy, and send us your details.</p>
                                <div class="mt-2 space-y-2">
                                    <p class="font-semibold">a. How to send us details:</p>
                                    <ul class="list-disc pl-6 space-y-1">
                                        <li>Fill up our booking form here: <a href="https://forms.gle/DYePzt4ycq6Tg4PW7" target="_blank" class="text-purple font-bold underline hover:text-emerald-700">(link)</a> OR</li>
                                        <li>Reach out to us on Instagram <a href="https://instagram.com/theronintoymaker" target="_blank" class="text-purple font-bold underline hover:text-emerald-700">@theronintoymaker</a> OR</li>
                                        <li>Send us an email on <a href="mailto:ruphilka@ronintoys.com" class="text-purple font-bold underline hover:text-emerald-700">ruphilka@ronintoys.com</a></li>
                                    </ul>
                                </div>
                                <div class="mt-2 space-y-2">
                                    <p class="font-semibold">b. Details required to place an order:</p>
                                    <ul class="list-disc pl-6 space-y-1">
                                        <li>Your name</li>
                                        <li>Your address</li>
                                        <li>The cat's name and age</li>
                                        <li>How many of which product you'd like (please keep orders to under 5 pieces per product per person)</li>
                                    </ul>
                                </div>
                            </li>
                            
                            <li>
                                <p class="font-bold">Confirmation & Timeline:</p>
                                <p>Please make your payment after scanning the QR code on the website.</p>
                                <div class="my-4 flex flex-col items-center">
                                    <img src="images/qr_code.jpg" alt="UPI QR Code Placeholder" class="rounded-lg shadow-md w-48 h-48 sm:w-56 sm:h-56 object-cover">
                                    <p class="mt-2 text-lg font-bold text-gray-800">UPI ID: ruphilka-1@oksbi</p>
                                </div>
                            </li>

                            <li>
                                <p class="font-bold">Shipping:</p>
                                <p>Orders within Bangalore can be shipped via Porter, at your expense. (For now we're only taking orders within this city).</p>
                            </li>
                        </ol>

                        <!-- Other Sections -->
                        <div class="pt-4 space-y-4">
                            <h2 class="text-2xl sm:text-3xl text-gray-800 mb-4">Timelines</h2>
                            <ul class="list-disc pl-6 space-y-2">
                                <li>You'll receive a confirmation email of your booking 48 hours after your payment has been received.</li>
                                <li>Your toy will be ready to ship 10 days after confirmation.</li>
                            </ul>
                        </div>
                        
                        <div class="pt-4 space-y-4">
                            <h2 class="text-2xl sm:text-3xl text-gray-800 mb-4">Cancellations</h2>
                            <ol class="list-decimal pl-6 space-y-2">
                                <li>Once placed, orders cannot be cancelled.</li>
                                <li>If not paid for, your booking will not be placed.</li>
                            </ol>
                        </div>
                        
                        <div class="pt-4 space-y-4">
                            <h2 class="text-2xl sm:text-3xl text-gray-800 mb-4">Quality Assurance</h2>
                            <p>Every product is hand-assembled and thoroughly inspected before shipping.</p>
                        </div>

                    </div>
                </div>
            </div>
        </section>
    </div>
    <!-- END NEW PAGE -->


    <div id="scroll-nav" class="fixed bottom-5 right-5 z-50 flex flex-col items-center space-y-2">
        <button id="scroll-up-btn" onclick="scrollToTop()"
            class="hidden bg-purple text-white w-12 h-12 rounded-full shadow-lg hover:bg-purple-700 focus:outline-none transform hover:scale-110 transition-transform border-2 border-white">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mx-auto" fill="none" viewBox="0 0 24 24"
                stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7" />
            </svg>
        </button>
        <button id="scroll-down-btn" onclick="scrollPageDown()"
            class="bg-emerald-700 text-white w-12 h-12 rounded-full shadow-lg hover:bg-emerald-600 focus:outline-none transform hover:scale-110 transition-transform border-2 border-white">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mx-auto" fill="none" viewBox="0 0 24 24"
                stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
            </svg>
        </button>
        <button id="scroll-bottom-btn" onclick="scrollToBottom()"
            class="bg-electric-coral text-white w-12 h-12 rounded-full shadow-lg hover:bg-red-600 focus:outline-none transform hover:scale-110 transition-transform border-2 border-white">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mx-auto" fill="none" viewBox="0 0 24 24"
                stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M19 13l-7 7-7-7m14-8l-7 7-7-7" />
            </svg>
        </button>
    </div>

    <!-- Product Image Modal -->
    <div id="product-modal" class="hidden fixed inset-0 bg-black bg-opacity-75 z-[60] flex items-center justify-center p-4 transition-opacity duration-300 opacity-0" onclick="closeProductModal()">
        <div class="bg-warm-cream rounded-2xl shadow-2xl w-full max-w-3xl relative max-h-[90vh] flex flex-col p-4 sm:p-6" onclick="event.stopPropagation()">
            <button onclick="closeProductModal()" class="absolute -top-3 -right-3 sm:top-2 sm:right-2 z-10 bg-electric-coral text-white rounded-full w-10 h-10 flex items-center justify-center shadow-lg transition-transform hover:scale-110">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
            </button>
            <div class="relative w-full mb-4 flex-1 min-h-0 flex items-center justify-center">
                <img id="modal-main-image" src="" alt="Product Image" class="block max-w-[90%] max-h-[75vh] object-contain rounded-lg transform-gpu">
                <button id="modal-prev-btn" class="absolute top-1/2 -translate-y-1/2 left-2 bg-white/70 hover:bg-white text-purple rounded-full p-2 shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
                </button>
                <button id="modal-next-btn" class="absolute top-1/2 -translate-y-1/2 right-2 bg-white/70 hover:bg-white text-purple rounded-full p-2 shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                </button>
            </div>
            <div id="modal-thumbnails" class="flex-shrink-0 flex justify-center items-center gap-2 sm:gap-4 overflow-x-auto p-2">
                <!-- Thumbnails will be generated here -->
            </div>
        </div>
    </div>

    <footer class="bg-purple text-white py-6">
        <div class="max-w-7xl mx-auto px-4 sm:px-6">
            <div class="flex flex-col md:flex-row justify-between items-center gap-6">
                <div class="text-center md:text-left text-sm text-gray-300">
                    <p>&copy; 2024 Ronin Toys. All rights reserved.</p>
                    <!-- ADDED FOOTER LINK HERE -->
                    <p>
                        <a href="#terms" onclick="event.preventDefault(); router.goTo('terms')" class="underline hover:text-white transition-colors">Terms & Conditions</a>
                    </p>
                    <p>We take play, and our planet, seriously.</p>
                </div>
                <div class="flex flex-col items-center md:items-end gap-3">
                    <a href="https://instagram.com/theronintoymaker" target="_blank"
                        class="text-gray-300 hover:text-white transition inline-flex items-center gap-2 text-sm">
                        <i class="fab fa-instagram"></i>
                        <span>@theronintoymaker</span>
                    </a>
                </div>
            </div>
        </div>
    </footer>
    <script>
        const toys = {
            reelin: {
                id: 'reelin',
                name: "Reelin'",
                price: "₹2000",
                images: ["images/product_reelin.png"],
                emoji: "🎣",
                tagline: "An anthropological study in cooperative chaos",
                thoughtProcess: "An organic fishing apparatus developed in collaboration with <a href=\"#cats\" onclick=\"event.preventDefault(); router.goTo('cats', {selectedCatId: 'gwilo-section'})\" class=\"text-purple font-bold underline hover:text-emerald-700\">Gwilo</a>. Made from bamboo that grew up wanting to be a fishing rod, paired with a line that asks for no judgement when it breaks.",
                technical: "Designed to die after approximately 85 sessions of quality chaos.",
                purchaseIncludes: "<ul><li>1 full fishing rod (wooden dowel+ plastic ratchet spool+ plastic joint + 100% cotton undyed string + metal hook)</li><li>1 attached feather lure</li><li>Durable PLA+ plastic handle screw attachment</li></ul>",
                accessories: "<ul><li>3 Ruffles (feathered lures)</li><li>Trigger parts for the ratchet</li><li>Extra string + 1 attached Ruffle</li></ul>",
                bg: "bg-emerald-700",
                hover: "hover:rotate-1"
            },
            rattletail: {
                id: 'rattletail',
                name: "Rattletail",
                price: "₹700 (single colour)",
                images: ["images/product_rattlin_1.png", "images/product_rattlin_2.png"],
                emoji: "🐍",
                tagline: "The chase is on",
                thoughtProcess: "A serpentine masterpiece designed to trigger every hunting instinct your cat possesses. Trail it behind you and watch your feline transform into the apex predator they've always believed themselves to be. <a href=\"#cats\" onclick=\"event.preventDefault(); router.goTo('cats', {selectedCatId: 'zelda-section'})\" class=\"text-emerald-700 font-bold underline hover:text-purple cursor-pointer\">Zelda</a> approves of its unpredictable slithering patterns.",
                technical: "Crafted from durable, PLA+ plastic with a weighted tail section that creates realistic snake-like movement. Approximately 1 meter in length for optimal trailing distance. The joints rattle on hard surfaces like tile, and help entice even those among our feline friends who might have issues with sight.",
                purchaseIncludes: "<ul><li>100% undyed cotton thread that helps simulate a puppet-like experience for the human (unless they run with it, then it looks like a puppet in need of an exorcism).</li></ul>",
                accessories: "<ul><li>100% undyed cotton thread</li></ul>",
                variants: "<ul><li>Single Colour Rattletails</li><li>Multi-colour Rattletails (priced at INR 1000) are available upon request (and according to the colours available). Do reach out to <a href='https://instagram.com/theronintoymaker' target='_blank' class='text-purple font-bold underline hover:text-emerald-700'>@theronintoymaker</a> on Instagram or email <a href='mailto:ruphilka@ronintoys.com' class='text-purple font-bold underline hover:text-emerald-700'>ruphilka@ronintoys.com</a> to know more.</li></ul>",
                bg: "bg-electric-coral",
                hover: "hover:-rotate-1"
            },
            ruffles: {
                id: 'ruffles',
                name: "Ruffles",
                price: "₹450/pack",
                images: [],
                emoji: "🪶",
                tagline: "For when the hunt demands proper bait.",
                thoughtProcess: "Developed as part of Project Reelin' (in collaboration with <a href=\"#cats\" onclick=\"event.preventDefault(); router.goTo('cats', {selectedCatId: 'gwilo-section'})\" class=\"text-purple font-bold underline hover:text-emerald-700\">Gwilo</a>, our Senior Research Fellow in Applied Mischief), Ruffles are the interchangeable feather lures that bring the Reelin' to life. Each Ruffle is crafted for the perfect arc, flutter, and unpredictable spin - everything a discerning feline hunter could want. The idea was simple: create lures that mimic flight, provoke instinct, and reward every successful pounce with just enough resistance to keep things interesting.",
                technical: "Made with real feathers. Durable but light enough for that perfect flutter. Heat-shrinking fastening tape for secure durability. Metal fittings: hooks for single-feather Ruffles, female spade connectors for doubles. Ready to attach to your Reelin' fishing rod (cotton string + metal hook system).<br><b>Bonus feature:</b> Double-feather Ruffles also double as emergency shuttlecocks (for humans who forget who's boss).",
                purchaseIncludes: "<ul><li>2 x Single Feather Ruffles</li><li>2x Double Feather Ruffles</li></ul>",
                accessories: null,
                variants: "<ul><li>Single Feather Ruffle - light, aerodynamic, and built for precision attacks. Ideal for cats who believe stealth is superior to speed.</li><li>Double Feather Ruffle - flamboyant, flappy, and dramatic. Built for cats who like their chaos extra.</li></ul>",
                bg: "bg-sage-green",
                hover: "hover:rotate-1"
            }
        };

        let latinInterval;
        
        const router = {
            validPages: ['home', 'products', 'about', 'cats', 'terms'],

            goTo: function (pageId, params = {}) {
                if (!this.validPages.includes(pageId)) { pageId = 'home'; }
                
                this.validPages.forEach(id => {
                    const page = document.getElementById(id);
                    if (page) page.classList.remove('active');
                });

                const targetPage = document.getElementById(pageId);
                if (!targetPage) return;

                targetPage.classList.add('active');
                window.location.hash = pageId;

                if (pageId === 'products' && params.scrollTo) {
                    setTimeout(() => {
                        const targetElement = document.getElementById(params.scrollTo);
                        if (targetElement) {
                            targetElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
                            targetElement.classList.add('highlight-product');
                            setTimeout(() => targetElement.classList.remove('highlight-product'), 2500);
                        }
                    }, 50);
                } else if (pageId === 'cats') {
                    initLatinTransition();
                    if (params.selectedCatId) {
                        setTimeout(() => {
                            const targetSection = document.getElementById(params.selectedCatId);
                            if (targetSection) {
                                targetSection.scrollIntoView({ behavior: 'smooth', block: 'center' });
                                const flipper = targetSection.querySelector('.cat-flipper-container');
                                if (flipper) flipper.classList.add('is-flipped');
                                targetSection.classList.add('highlight-cat');
                                setTimeout(() => targetSection.classList.remove('highlight-cat'), 2500);
                            }
                        }, 50);
                    } else {
                        window.scrollTo(0, 0);
                    }
                } else {
                    window.scrollTo(0, 0);
                    if (latinInterval) { clearInterval(latinInterval); latinInterval = null; }
                    document.querySelectorAll('#cats .cat-flipper-container').forEach(flipper => {
                        flipper.classList.remove('is-flipped');
                    });
                }
            },

            init: function () {
                const hash = window.location.hash.substring(1);
                const initialPage = this.validPages.includes(hash) ? hash : 'home';
                this.goTo(initialPage);
            }
        };

        window.addEventListener('hashchange', function () {
            const hash = window.location.hash.substring(1);
            router.goTo(hash);
        });

        function populateProductsPage() {
            const container = document.getElementById('product-list');
            if (!container) return;
            let content = '';
            for (const key in toys) {
                const toy = toys[key];
                const hasImages = toy.images && toy.images.length > 0;
                const mainImage = hasImages ? toy.images[0] : null;
                content += `
                    <div id="${toy.id}" class="bg-white rounded-3xl p-6 sm:p-8 shadow-lg flex flex-col md:flex-row items-center gap-8 transition-all duration-500">
                        <div class="${toy.bg} rounded-2xl w-32 h-32 md:w-48 md:h-48 flex-shrink-0 overflow-hidden ${hasImages ? 'cursor-pointer transition-transform hover:scale-105' : ''}" ${hasImages ? `onclick="openProductModal('${key}')"` : ''}>
                            ${mainImage ? `<img src="${mainImage}" alt="${toy.name}" class="w-full h-full object-contain">` : (toy.emoji ? `<div class="flex items-center justify-center w-full h-full text-white text-6xl md:text-8xl">${toy.emoji}</div>` : '')}
                        </div>
                        <div class="text-center md:text-left flex-1 product-details">
                            <h2 class="text-3xl sm:text-4xl text-gray-800 mb-2">${toy.name}</h2>
                            <p class="text-md sm:text-lg text-gray-600 font-bold mb-4 font-subtitle">${toy.tagline}</p>
                            <div class="text-3xl sm:text-4xl text-electric-coral mb-6">${toy.price}</div>
                            
                            <h3 class="text-xl font-bold text-gray-800 mb-2 mt-6">Thought Process</h3>
                            <p class="text-sm sm:text-base text-gray-600 font-medium leading-relaxed">${toy.thoughtProcess}</p>
                            
                            ${toy.technical ? `
                                <h3 class="text-xl font-bold text-gray-800 mb-2 mt-6">Technical Specifications</h3>
                                <p class="text-sm sm:text-base text-gray-600 font-medium leading-relaxed">${toy.technical}</p>
                            ` : ''}

                            ${toy.purchaseIncludes ? `
                                <h3 class="text-xl font-bold text-gray-800 mb-2 mt-6">Each Purchase Includes:</h3>
                                <div class="text-sm sm:text-base text-gray-600 font-medium leading-relaxed">${toy.purchaseIncludes}</div>
                            ` : ''}

                            ${toy.accessories ? `
                                <h3 class="text-xl font-bold text-gray-800 mb-2 mt-6">Extra parts and accessories:</h3>
                                <div class="text-sm sm:text-base text-gray-600 font-medium leading-relaxed">${toy.accessories}</div>
                            ` : ''}

                            ${toy.variants ? `
                                <h3 class="text-xl font-bold text-gray-800 mb-2 mt-6">Variants:</h3>
                                <div class="text-sm sm:text-base text-gray-600 font-medium leading-relaxed">${toy.variants}</div>
                            ` : ''}
                        </div>
                    </div>
                `;
            }
            container.innerHTML = content;
        }

        function initLatinTransition() {
            const latinElement = document.getElementById('latin-subtitle');
            if (!latinElement || latinInterval) return;
            const phrases = ["Humani intelligentes sunt, sed assidua vigilantia indigent", "Humans are intelligent, but require constant supervision"];
            let currentIndex = 0;
            function switchText() {
                latinElement.classList.add('fade-out');
                setTimeout(() => {
                    currentIndex = (currentIndex + 1) % phrases.length;
                    latinElement.textContent = `"${phrases[currentIndex]}"`;
                    latinElement.classList.remove('fade-out');
                }, 500);
            }
            latinInterval = setInterval(switchText, 6000);
        }

        function toggleMobileMenu() {
            document.getElementById('mobile-menu').classList.toggle('is-open');
        }
        function closeMobileMenu() {
            document.getElementById('mobile-menu').classList.remove('is-open');
        }

        const scrollUpBtn = document.getElementById('scroll-up-btn');
        const scrollDownBtn = document.getElementById('scroll-down-btn');
        const scrollBottomBtn = document.getElementById('scroll-bottom-btn');

        function scrollToTop() { window.scrollTo({ top: 0, behavior: 'smooth' }); }
        function scrollToBottom() { window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' }); }
        function scrollPageDown() { window.scrollBy({ top: window.innerHeight * 0.9, behavior: 'smooth' }); }

        function handleScrollButtons() {
            const scrollPosition = window.scrollY;
            const windowHeight = window.innerHeight;
            const bodyHeight = document.body.offsetHeight;
            scrollUpBtn.classList.toggle('hidden', scrollPosition <= windowHeight / 2);
            const atBottom = scrollPosition + windowHeight >= bodyHeight - 100;
            scrollDownBtn.classList.toggle('hidden', atBottom);
            scrollBottomBtn.classList.toggle('hidden', atBottom);
        }

        window.addEventListener('scroll', handleScrollButtons);

        function setupCarousel() {
            const track = document.getElementById('carousel-track');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const carousel = document.getElementById('product-carousel'); // For swipe
            const dotsContainer = document.getElementById('carousel-dots'); // For dots

            if (!track || !prevBtn || !nextBtn || !carousel || !dotsContainer) return;

            let slidesHTML = '';
            const toyKeys = Object.keys(toys);
            toyKeys.forEach(key => {
                const toy = toys[key];
                const hasImages = toy.images && toy.images.length > 0;
                const mainImage = hasImages ? toy.images[0] : null;
                slidesHTML += `
                <div class="w-full lg:w-1/2 flex-shrink-0 p-2">
                    <div class="bg-white rounded-3xl p-6 md:p-0 md:flex md:items-center md:gap-6 lg:gap-8 shadow-lg md:h-64 transition-all duration-500 transform ${toy.hover} clickable" onclick="router.goTo('products', { scrollTo: '${toy.id}' })">
                        <div class="md:w-48 md:h-full md:flex-shrink-0">
                           <div class="${toy.bg} rounded-2xl md:rounded-l-3xl md:rounded-r-none w-full h-48 md:h-full relative overflow-hidden group">
                                ${mainImage ? `<img src="${mainImage}" alt="${toy.name}" class="w-full h-full object-contain">` : (toy.emoji ? `<div class="text-white text-6xl bounce-play flex items-center justify-center h-full">${toy.emoji}</div>`:'')}
                           </div>
                        </div>
                        <div class="pt-6 md:pt-0 md:pr-6 md:flex-1 text-center md:text-left">
                            <h3 class="text-2xl sm:text-3xl text-gray-800 mb-2">${toy.name}</h3>
                            <p class="text-sm sm:text-base text-gray-600 font-medium mb-4 font-subtitle">${toy.tagline}</p>
                            <div class="text-2xl sm:text-3xl font-black text-electric-coral">${toy.price}</div>
                        </div>
                    </div>
                </div>`;
            });
            track.innerHTML = slidesHTML;
            let currentIndex = 0;
            const slides = track.children;
            const totalSlides = slides.length;
            function getSlidesInView() { return window.innerWidth >= 1024 ? 2 : 1; }
            let numPages = 0;
            function createCarouselDots() {
                dotsContainer.innerHTML = ''; // Clear dots
                const slidesInView = getSlidesInView();
                numPages = totalSlides - slidesInView + 1;

                if (numPages <= 1) return; // Don't show dots if only one page

                for (let i = 0; i < numPages; i++) {
                    const dot = document.createElement('button');
                    dot.className = 'carousel-dot';
                    dot.setAttribute('aria-label', `Go to slide ${i + 1}`);
                    dot.addEventListener('click', () => {
                        currentIndex = i;
                        updateCarousel();
                    });
                    dotsContainer.appendChild(dot);
                }
                updateCarouselDots();
            }

            function updateCarouselDots() {
                const dots = dotsContainer.children;
                if (dots.length === 0) return;
                for (let i = 0; i < dots.length; i++) {
                    dots[i].classList.toggle('active', i === currentIndex);
                }
            }

            function updateCarousel() {
                const slidesInView = getSlidesInView();
                const slideWidth = 100 / slidesInView;
                track.style.transform = `translateX(-${currentIndex * slideWidth}%)`;
                // nextBtn.disabled = currentIndex >= totalSlides - slidesInView;
                // prevBtn.disabled = currentIndex <= 0;
                updateCarouselDots();
            }

            function showNextSlide() {
                const slidesInView = getSlidesInView();
                const maxIndex = totalSlides - slidesInView;
                if (currentIndex < maxIndex) {
                    currentIndex++;
                } else {
                    currentIndex = 0; // Loop to start
                }
                updateCarousel();
            }

            function showPrevSlide() {
                const slidesInView = getSlidesInView();
                const maxIndex = totalSlides - slidesInView;
                if (currentIndex > 0) {
                    currentIndex--;
                } else {
                    currentIndex = maxIndex; // Loop to end
                }
                updateCarousel();
            }

            nextBtn.addEventListener('click', showNextSlide);
            prevBtn.addEventListener('click', showPrevSlide);

            // --- Swipe Logic ---
            let touchStartX = 0;
            let touchDeltaX = 0;

            carousel.addEventListener('touchstart', (e) => {
                touchStartX = e.touches[0].clientX;
                touchDeltaX = 0; // Reset delta
            }, { passive: true });

            carousel.addEventListener('touchmove', (e) => {
                if (touchStartX === 0) return;
                touchDeltaX = e.touches[0].clientX - touchStartX;
            }, { passive: true });

            carousel.addEventListener('touchend', () => {
                const swipeThreshold = 50; // Min pixels for a swipe
                if (Math.abs(touchDeltaX) > swipeThreshold) {
                    if (touchDeltaX < 0) {
                        // Swiped left
                        showNextSlide();
                    } else {
                        // Swiped right
                        showPrevSlide();
                    }
                }
                touchStartX = 0; // Reset start position
            });


            window.addEventListener('resize', () => {
                createCarouselDots(); // Recreate dots
                updateCarousel(); // Recalculate positions
            });
            
            createCarouselDots(); // Initial dot creation
            updateCarousel(); // Initial setup
        }

        function showBoop(event) {
            const container = event.target.closest('.cat-flipper-container');
            if (!container || container.querySelector('.boop-text')) return;
            const boopElement = document.createElement('span');
            boopElement.textContent = 'Boop!';
            boopElement.className = 'boop-text';
            container.appendChild(boopElement);
            setTimeout(() => {
                if (boopElement.parentElement) {
                    container.removeChild(boopElement);
                }
            }, 950);
        }

        function handleCatInteraction() {
            const catContainers = document.querySelectorAll('.cat-flipper-container');
            catContainers.forEach(container => {
                container.addEventListener('click', (event) => {
                    event.stopPropagation();

                    if (container.closest('#home')) {
                        if (container.classList.contains('is-flipped')) {
                            const catTargetId = container.dataset.catTarget;
                            router.goTo('cats', { selectedCatId: catTargetId });
                            container.classList.remove('is-flipped');
                        } else {
                            catContainers.forEach(c => {
                                if (c.closest('#home') && c !== container) c.classList.remove('is-flipped');
                            });
                            container.classList.add('is-flipped');
                            const boopTarget = container.querySelector('.cat-front img');
                            if (boopTarget) showBoop({ target: boopTarget });
                        }
                    } else if (container.closest('#cats')) {
                        container.classList.toggle('is-flipped');
                    }
                });
            });
        }

        function setupScientificApproach() {
            const steps = [
                { "step": "1", "icon": "science", "color": "text-electric-coral", "title": "Observe", "text": "Take notes when cats play properly." },
                { "step": "2", "icon": "lightbulb", "color": "text-warm-ochre", "title": "Hypothesize", "text": "Ask 'Ok what if this BUT MORE?'" },
                { "step": "3", "icon": "construction", "color": "text-sage-green", "title": "Build", "text": "Create prototypes." },
                { "step": "4", "icon": "pets", "color": "text-purple", "title": "Test", "text": "Present to focus group. Await verdict." },
                { "step": "5", "icon": "sync", "color": "text-emerald-700", "title": "Iterate", "text": "Adjust based on feline feedback." },
                { "step": "6", "icon": "celebration", "color": "text-electric-coral", "title": "Release", "text": "Share with the world, await judgment." }
            ];

            const mobileGrid = document.getElementById('scientific-approach-mobile-grid');
            const desktopGrid = document.getElementById('scientific-approach-desktop-grid');
            if (!mobileGrid || !desktopGrid) return;

            let mobileHTML = '';
            let desktopHTML = '';

            steps.forEach((s, index) => {
                mobileHTML += `
                    <div data-step="${s.step}" class="step-simple-item flex items-center w-full space-x-4">
                        <div class="w-16 h-16 bg-white rounded-2xl flex-shrink-0 flex items-center justify-center">
                            <span class="material-symbols-outlined ${s.color} text-3xl">${s.icon}</span>
                        </div>
                        <div>
                            <h3 class="text-xl text-white">Step ${s.step}: ${s.title}</h3>
                            <p class="text-sm text-white font-medium">${s.text}</p>
                        </div>
                    </div>
                    ${index < steps.length - 1 ? '<div class="h-12 w-16 flex justify-center sm:hidden"><span class="material-symbols-outlined text-white text-4xl">south</span></div>' : ''}`;

                desktopHTML += `
                    <div data-step="${s.step}" class="step-card bg-white rounded-3xl p-6 shadow-lg text-center">
                        <div class="w-16 h-16 mx-auto mb-4 bg-${s.color.replace('text-', '')} rounded-2xl flex items-center justify-center">
                            <span class="material-symbols-outlined text-white text-3xl">${s.icon}</span>
                        </div>
                        <h3 class="text-2xl text-gray-800 mb-4">Step ${s.step}: ${s.title}</h3>
                        <p class="text-base text-gray-600 font-medium">${s.text === 'Create prototypes.' ? 'Create prototypes using questionable engineering decisions.' : s.text}</p>
                    </div>`;
            });
            mobileGrid.innerHTML = mobileHTML;
            desktopGrid.innerHTML = desktopHTML;


            const section = document.getElementById('scientific-approach-section');
            if (!section) return;

            const drawConnectors = (containerId, gridId, svgId) => {
                const container = document.getElementById(containerId);
                const grid = document.getElementById(gridId);
                const svg = document.getElementById(svgId);
                const steps = Array.from(grid.querySelectorAll('[data-step]'));

                if (!container || !svg || !steps.length || window.getComputedStyle(container.parentElement).display === 'none') {
                    if (svg) svg.innerHTML = '';
                    return;
                }

                svg.innerHTML = ''; // Clear previous connectors
                const containerRect = container.getBoundingClientRect();

                const marker = document.createElementNS('http://www.w3.org/2000/svg', 'marker');
                marker.setAttribute('id', `arrowhead-${containerId}`);
                marker.setAttribute('viewBox', '-0 -5 10 10'); marker.setAttribute('refX', 5);
                marker.setAttribute('refY', 0); marker.setAttribute('orient', 'auto');
                marker.setAttribute('markerWidth', 5);
                marker.setAttribute('markerHeight', 5);
                marker.setAttribute('xoverflow', 'visible');
                const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                path.setAttribute('d', 'M 0,-5 L 10 ,0 L 0,5');
                path.setAttribute('fill', 'white');
                path.style.stroke = 'none';
                marker.appendChild(path);

                const defs = document.createElementNS('http://www.w3.org/2000/svg', 'defs');
                defs.appendChild(marker);
                svg.appendChild(defs);

                for (let i = 0; i < steps.length - 1; i++) {
                    const startNode = steps[i];
                    const endNode = steps[i + 1];
                    const startRect = startNode.getBoundingClientRect();
                    const endRect = endNode.getBoundingClientRect();

                    const start = { x: startRect.left - containerRect.left + startRect.width / 2, y: startRect.top - containerRect.top + startRect.height / 2 };
                    const end = { x: endRect.left - containerRect.left + endRect.width / 2, y: endRect.top - containerRect.top + endRect.height / 2 };

                    let pathData;
                    const curve = 50;

                    if (Math.abs(start.y - end.y) < 20) { // Horizontal
                        const fromRight = start.x < end.x;
                        const p1 = fromRight ? start.x + startRect.width / 2 : start.x - startRect.width / 2;
                        const p2 = fromRight ? end.x - endRect.width / 2 : end.x + endRect.width / 2;
                        pathData = `M ${p1} ${start.y} C ${p1 + (fromRight ? curve : -curve)} ${start.y}, ${p2 + (fromRight ? -curve : curve)} ${end.y}, ${p2} ${end.y}`;
                    } else { // Vertical
                        const fromTop = start.y < end.y;
                        const p1 = fromTop ? start.y + startRect.height / 2 : start.y - startRect.height / 2;
                        const p2 = fromTop ? end.y - endRect.height / 2 : end.y + endRect.height / 2;
                        const p1x = startRect.left - containerRect.left + startRect.width / 2;
                        const p2x = endRect.left - containerRect.left + endRect.width / 2;
                        pathData = `M ${p1x} ${p1} C ${p1x} ${p1 + (fromTop ? curve : -curve)}, ${p2x} ${p2 + (fromTop ? -curve : curve)}, ${p2x} ${p2}`;
                    }

                    if (pathData) {
                        const connector = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                        connector.setAttribute('d', pathData);
                        connector.setAttribute('stroke', 'white');
                        connector.setAttribute('stroke-width', '3');
                        connector.setAttribute('fill', 'none');
                        connector.setAttribute('stroke-linecap', 'round');
                        connector.setAttribute('marker-end', `url(#arrowhead-${containerId})`);
                        if (grid.classList.contains('is-visible')) {
                            connector.classList.add('connector-path');
                        }
                        svg.appendChild(connector);
                    }
                }
            };

            const runDraw = () => {
                if (window.innerWidth < 640) {
                    document.getElementById('connector-svg-mobile').innerHTML = ''; // no svg on smallest mobile
                } else if (window.innerWidth < 1024) {
                    drawConnectors('scientific-approach-mobile', 'scientific-approach-mobile-grid', 'connector-svg-mobile');
                } else {
                    drawConnectors('scientific-approach-desktop', 'scientific-approach-desktop-grid', 'connector-svg-desktop');
                }
            }

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const mobileGrid = document.getElementById('scientific-approach-mobile-grid');
                        const desktopGrid = document.getElementById('scientific-approach-desktop-grid');
                        mobileGrid.classList.add('is-visible');
                        desktopGrid.classList.add('is-visible');
                        setTimeout(runDraw, 100);
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.2 });

            observer.observe(section);

            let resizeTimeout;
            window.addEventListener('resize', () => {
                clearTimeout(resizeTimeout);
                resizeTimeout = setTimeout(runDraw, 150);
            });
        }
        function setRandomFavicon() {
            const favicons = [
                'images/zelda_nobg.png',
                'images/cloud_nobg.png',
                'images/gwi_nobg.png'
            ];

            const randomIndex = Math.floor(Math.random() * favicons.length);
            const favicon = document.getElementById('favicon');
            if (favicon) {
                favicon.href = favicons[randomIndex];
            }
        }

        // --- Product Modal Logic ---
        let currentModalProductId = null;
        let currentModalImageIndex = 0;
        const modal = document.getElementById('product-modal');
        const modalMainImage = document.getElementById('modal-main-image');
        const modalThumbnailsContainer = document.getElementById('modal-thumbnails');
        const modalPrevBtn = document.getElementById('modal-prev-btn');
        const modalNextBtn = document.getElementById('modal-next-btn');

        function showModalImage(index) {
            const product = toys[currentModalProductId];
            if (!product || !product.images || !product.images[index]) return;

            currentModalImageIndex = index;
            modalMainImage.src = product.images[index];

            const thumbnails = modalThumbnailsContainer.querySelectorAll('.thumbnail-item');
            thumbnails.forEach((thumb, i) => {
                thumb.classList.toggle('active', i === index);
            });

            modalPrevBtn.disabled = index === 0;
            modalNextBtn.disabled = index === product.images.length - 1;
        }

        function openProductModal(productId) {
            const product = toys[productId];
            if (!product || !product.images || product.images.length === 0) return;

            currentModalProductId = productId;
            
            modalThumbnailsContainer.innerHTML = product.images.map((imgSrc, index) => `
                <img src="${imgSrc}" alt="Thumbnail ${index + 1}" class="thumbnail-item w-16 h-16 sm:w-20 sm:h-20 object-contain bg-white rounded-lg p-1 border-2 border-transparent" onclick="showModalImage(${index})">
            `).join('');
            
            showModalImage(0);

            modal.classList.remove('hidden');
            setTimeout(() => {
                modal.classList.remove('opacity-0');
            }, 10);

            document.addEventListener('keydown', handleModalKeydown);
        }

        function closeProductModal() {
            modal.classList.add('opacity-0');
            setTimeout(() => {
                modal.classList.add('hidden');
            }, 300);
            document.removeEventListener('keydown', handleModalKeydown);
        }

        function handleModalKeydown(event) {
            if (event.key === 'Escape') {
                closeProductModal();
            } else if (event.key === 'ArrowLeft') {
                modalPrevBtn.click();
            } else if (event.key === 'ArrowRight') {
                modalNextBtn.click();
            }
        }

        modalPrevBtn.addEventListener('click', () => {
            if (currentModalImageIndex > 0) {
                showModalImage(currentModalImageIndex - 1);
            }
        });

        modalNextBtn.addEventListener('click', () => {
            const product = toys[currentModalProductId];
            if (product && currentModalImageIndex < product.images.length - 1) {
                showModalImage(currentModalImageIndex + 1);
            }
        });


        document.addEventListener('DOMContentLoaded', () => {
            router.init();
            populateProductsPage();
            handleScrollButtons();
            setupCarousel();
            handleCatInteraction();
            setupScientificApproach();
        });

    </script>
</body>

</html>

